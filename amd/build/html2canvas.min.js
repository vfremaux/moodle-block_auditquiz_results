!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.html2canvas=b():a.html2canvas=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=21)}([function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=/^#([a-f0-9]{3})$/i,h=function(a){var b=a.match(g);return!!b&&[parseInt(b[1][0]+b[1][0],16),parseInt(b[1][1]+b[1][1],16),parseInt(b[1][2]+b[1][2],16),null]},i=/^#([a-f0-9]{6})$/i,j=function(a){var b=a.match(i);return!!b&&[parseInt(b[1].substring(0,2),16),parseInt(b[1].substring(2,4),16),parseInt(b[1].substring(4,6),16),null]},k=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,l=function(a){var b=a.match(k);return!!b&&[Number(b[1]),Number(b[2]),Number(b[3]),null]},m=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,n=function(a){var b=a.match(m);return!!(b&&b.length>4)&&[Number(b[1]),Number(b[2]),Number(b[3]),Number(b[4])]},o=function(a){return[Math.min(a[0],255),Math.min(a[1],255),Math.min(a[2],255),a.length>3?a[3]:null]},p=function(a){var b=r[a.toLowerCase()];return!!b&&b},q=function(){function a(b){d(this,a);var c=Array.isArray(b)?o(b):h(b)||l(b)||n(b)||p(b)||j(b)||[0,0,0,null],f=e(c,4),g=f[0],i=f[1],k=f[2],m=f[3];this.r=g,this.g=i,this.b=k,this.a=m}return f(a,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),a}();b["default"]=q;var r={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};b.TRANSPARENT=new q([0,0,0,0])},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.parseBoundCurves=b.calculatePaddingBoxPath=b.calculateBorderBoxPath=b.parsePathForBorder=b.parseDocumentSize=b.calculateContentBox=b.calculatePaddingBox=b.parseBounds=b.Bounds=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(6),h=d(g),i=c(26),j=d(i),k=0,l=1,m=2,n=3,o=0,p=1,q=b.Bounds=function(){function a(b,c,d,f){e(this,a),this.left=b,this.top=c,this.width=d,this.height=f}return f(a,null,[{key:"fromClientRect",value:function(b,c,d){return new a(b.left+c,b.top+d,b.width,b.height)}}]),a}(),r=(b.parseBounds=function(a,b,c){return q.fromClientRect(a.getBoundingClientRect(),b,c)},b.calculatePaddingBox=function(a,b){return new q(a.left+b[n].borderWidth,a.top+b[k].borderWidth,a.width-(b[l].borderWidth+b[n].borderWidth),a.height-(b[k].borderWidth+b[m].borderWidth))},b.calculateContentBox=function(a,b,c){var d=b[k].value,e=b[l].value,f=b[m].value,g=b[n].value;return new q(a.left+g+c[n].borderWidth,a.top+d+c[k].borderWidth,a.width-(c[l].borderWidth+c[n].borderWidth+g+e),a.height-(c[k].borderWidth+c[m].borderWidth+d+f))},b.parseDocumentSize=function(a){var b=a.body,c=a.documentElement;if(!b||!c)throw new Error("Unable to get document size");var d=Math.max(Math.max(b.scrollWidth,c.scrollWidth),Math.max(b.offsetWidth,c.offsetWidth),Math.max(b.clientWidth,c.clientWidth)),e=Math.max(Math.max(b.scrollHeight,c.scrollHeight),Math.max(b.offsetHeight,c.offsetHeight),Math.max(b.clientHeight,c.clientHeight));return new q(0,0,d,e)},b.parsePathForBorder=function(a,b){switch(b){case k:return r(a.topLeftOuter,a.topLeftInner,a.topRightOuter,a.topRightInner);case l:return r(a.topRightOuter,a.topRightInner,a.bottomRightOuter,a.bottomRightInner);case m:return r(a.bottomRightOuter,a.bottomRightInner,a.bottomLeftOuter,a.bottomLeftInner);case n:default:return r(a.bottomLeftOuter,a.bottomLeftInner,a.topLeftOuter,a.topLeftInner)}},function(a,b,c,d){var e=[];return a instanceof j["default"]?e.push(a.subdivide(.5,!1)):e.push(a),c instanceof j["default"]?e.push(c.subdivide(.5,!0)):e.push(c),d instanceof j["default"]?e.push(d.subdivide(.5,!0).reverse()):e.push(d),b instanceof j["default"]?e.push(b.subdivide(.5,!1).reverse()):e.push(b),e}),s=(b.calculateBorderBoxPath=function(a){return[a.topLeftOuter,a.topRightOuter,a.bottomRightOuter,a.bottomLeftOuter]},b.calculatePaddingBoxPath=function(a){return[a.topLeftInner,a.topRightInner,a.bottomRightInner,a.bottomLeftInner]},b.parseBoundCurves=function(a,b,c){var d=a.width/2,e=a.height/2,f=c[s.TOP_LEFT][o].getAbsoluteValue(a.width)<d?c[s.TOP_LEFT][o].getAbsoluteValue(a.width):d,g=c[s.TOP_LEFT][p].getAbsoluteValue(a.height)<e?c[s.TOP_LEFT][p].getAbsoluteValue(a.height):e,i=c[s.TOP_RIGHT][o].getAbsoluteValue(a.width)<d?c[s.TOP_RIGHT][o].getAbsoluteValue(a.width):d,j=c[s.TOP_RIGHT][p].getAbsoluteValue(a.height)<e?c[s.TOP_RIGHT][p].getAbsoluteValue(a.height):e,q=c[s.BOTTOM_RIGHT][o].getAbsoluteValue(a.width)<d?c[s.BOTTOM_RIGHT][o].getAbsoluteValue(a.width):d,r=c[s.BOTTOM_RIGHT][p].getAbsoluteValue(a.height)<e?c[s.BOTTOM_RIGHT][p].getAbsoluteValue(a.height):e,u=c[s.BOTTOM_LEFT][o].getAbsoluteValue(a.width)<d?c[s.BOTTOM_LEFT][o].getAbsoluteValue(a.width):d,v=c[s.BOTTOM_LEFT][p].getAbsoluteValue(a.height)<e?c[s.BOTTOM_LEFT][p].getAbsoluteValue(a.height):e,w=a.width-i,x=a.height-r,y=a.width-q,z=a.height-v;return{topLeftOuter:f>0||g>0?t(a.left,a.top,f,g,s.TOP_LEFT):new h["default"](a.left,a.top),topLeftInner:f>0||g>0?t(a.left+b[n].borderWidth,a.top+b[k].borderWidth,Math.max(0,f-b[n].borderWidth),Math.max(0,g-b[k].borderWidth),s.TOP_LEFT):new h["default"](a.left+b[n].borderWidth,a.top+b[k].borderWidth),topRightOuter:i>0||j>0?t(a.left+w,a.top,i,j,s.TOP_RIGHT):new h["default"](a.left+a.width,a.top),topRightInner:i>0||j>0?t(a.left+Math.min(w,a.width+b[n].borderWidth),a.top+b[k].borderWidth,w>a.width+b[n].borderWidth?0:i-b[n].borderWidth,j-b[k].borderWidth,s.TOP_RIGHT):new h["default"](a.left+a.width-b[l].borderWidth,a.top+b[k].borderWidth),bottomRightOuter:q>0||r>0?t(a.left+y,a.top+x,q,r,s.BOTTOM_RIGHT):new h["default"](a.left+a.width,a.top+a.height),bottomRightInner:q>0||r>0?t(a.left+Math.min(y,a.width-b[n].borderWidth),a.top+Math.min(x,a.height+b[k].borderWidth),Math.max(0,q-b[l].borderWidth),r-b[m].borderWidth,s.BOTTOM_RIGHT):new h["default"](a.left+a.width-b[l].borderWidth,a.top+a.height-b[m].borderWidth),bottomLeftOuter:u>0||v>0?t(a.left,a.top+z,u,v,s.BOTTOM_LEFT):new h["default"](a.left,a.top+a.height),bottomLeftInner:u>0||v>0?t(a.left+b[n].borderWidth,a.top+z,Math.max(0,u-b[n].borderWidth),v-b[m].borderWidth,s.BOTTOM_LEFT):new h["default"](a.left+b[n].borderWidth,a.top+a.height-b[m].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),t=function(a,b,c,d,e){var f=4*((Math.sqrt(2)-1)/3),g=c*f,i=d*f,k=a+c,l=b+d;switch(e){case s.TOP_LEFT:return new j["default"](new h["default"](a,l),new h["default"](a,l-i),new h["default"](k-g,b),new h["default"](k,b));case s.TOP_RIGHT:return new j["default"](new h["default"](a,b),new h["default"](a+g,b),new h["default"](k,l-i),new h["default"](k,l));case s.BOTTOM_RIGHT:return new j["default"](new h["default"](k,b),new h["default"](k,b+i),new h["default"](a+g,l),new h["default"](a,l));case s.BOTTOM_LEFT:default:return new j["default"](new h["default"](k,l),new h["default"](k-g,l),new h["default"](a,b+i),new h["default"](a,b))}}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=b.LENGTH_TYPE={PX:0,PERCENTAGE:1},g=function(){function a(b){d(this,a),this.type="%"===b.substr(b.length-1)?f.PERCENTAGE:f.PX;var c=parseFloat(b);isNaN(c)&&console.error('Invalid value given for Length: "'+b+'"'),this.value=isNaN(c)?0:c}return e(a,[{key:"isPercentage",value:function(){return this.type===f.PERCENTAGE}},{key:"getAbsoluteValue",value:function(a){return this.isPercentage()?a*(this.value/100):this.value}}],[{key:"create",value:function(b){return new a(b)}}]),a}();b["default"]=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.contains=function(a,b){return 0!==(a&b)},b.copyCSSStyles=function(a,b){for(var c=a.length-1;c>=0;c--){var d=a.item(c);"content"!==d&&b.style.setProperty(d,a.getPropertyValue(d))}return b},b.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.parseBackgroundImage=b.parseBackground=b.calculateBackgroundRepeatPath=b.calculateBackgroundPosition=b.calculateBackgroungPaintingArea=b.calculateBackgroundSize=b.BACKGROUND_ORIGIN=b.BACKGROUND_CLIP=b.BACKGROUND_SIZE=b.BACKGROUND_REPEAT=void 0;var f=c(0),g=d(f),h=c(2),i=d(h),j=c(25),k=d(j),l=c(6),m=d(l),n=c(1),o=b.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},p=b.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},q=b.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},r=b.BACKGROUND_ORIGIN=q,s="auto",t=function C(a){switch(e(this,C),a){case"contain":this.size=p.CONTAIN;break;case"cover":this.size=p.COVER;break;case"auto":this.size=p.AUTO;break;default:this.value=new i["default"](a)}},u=(b.calculateBackgroundSize=function(a,b,c){var d=0,e=0,f=a.size;if(f[0].size===p.CONTAIN||f[0].size===p.COVER){var g=c.width/c.height,h=b.width/b.height;return g<h!=(f[0].size===p.COVER)?new k["default"](c.width,c.width/h):new k["default"](c.height*h,c.height)}return f[0].value&&(d=f[0].value.getAbsoluteValue(c.width)),f[0].size===p.AUTO&&f[1].size===p.AUTO?e=b.height:f[1].size===p.AUTO?e=d/b.width*b.height:f[1].value&&(e=f[1].value.getAbsoluteValue(c.height)),f[0].size===p.AUTO&&(d=e/b.height*b.width),new k["default"](d,e)},new t(s)),v=(b.calculateBackgroungPaintingArea=function(a,b){switch(b){case q.BORDER_BOX:return(0,n.calculateBorderBoxPath)(a);case q.PADDING_BOX:default:return(0,n.calculatePaddingBoxPath)(a)}},b.calculateBackgroundPosition=function(a,b,c){return new m["default"](a[0].getAbsoluteValue(c.width-b.width),a[1].getAbsoluteValue(c.height-b.height))},b.calculateBackgroundRepeatPath=function(a,b,c,d,e){var f=a.repeat;switch(f){case o.REPEAT_X:return[new m["default"](Math.round(e.left),Math.round(d.top+b.y)),new m["default"](Math.round(e.left+e.width),Math.round(d.top+b.y)),new m["default"](Math.round(e.left+e.width),Math.round(c.height+d.top+b.y)),new m["default"](Math.round(e.left),Math.round(c.height+d.top+b.y))];case o.REPEAT_Y:return[new m["default"](Math.round(d.left+b.x),Math.round(e.top)),new m["default"](Math.round(d.left+b.x+c.width),Math.round(e.top)),new m["default"](Math.round(d.left+b.x+c.width),Math.round(e.height+e.top)),new m["default"](Math.round(d.left+b.x),Math.round(e.height+e.top))];case o.NO_REPEAT:return[new m["default"](Math.round(d.left+b.x),Math.round(d.top+b.y)),new m["default"](Math.round(d.left+b.x+c.width),Math.round(d.top+b.y)),new m["default"](Math.round(d.left+b.x+c.width),Math.round(d.top+b.y+c.height)),new m["default"](Math.round(d.left+b.x),Math.round(d.top+b.y+c.height))];default:return[new m["default"](Math.round(e.left),Math.round(e.top)),new m["default"](Math.round(e.left+e.width),Math.round(e.top)),new m["default"](Math.round(e.left+e.width),Math.round(e.height+e.top)),new m["default"](Math.round(e.left),Math.round(e.height+e.top))]}},b.parseBackground=function(a,b){return{backgroundColor:new g["default"](a.backgroundColor),backgroundImage:y(a,b),backgroundClip:v(a.backgroundClip),backgroundOrigin:w(a.backgroundOrigin)}},function(a){switch(a){case"padding-box":return q.PADDING_BOX;case"content-box":return q.CONTENT_BOX}return q.BORDER_BOX}),w=function(a){switch(a){case"padding-box":return r.PADDING_BOX;case"content-box":return r.CONTENT_BOX}return r.BORDER_BOX},x=function(a){switch(a.trim()){case"no-repeat":return o.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return o.REPEAT_X;case"repeat-y":case"no-repeat repeat":return o.REPEAT_Y;case"repeat":return o.REPEAT}return console.error('Invalid background-repeat value "'+a+'"'),o.REPEAT},y=function(a,b){var c=B(a.backgroundImage).map(function(a){if("url"===a.method){var c=b.loadImage(a.args[0]);a.args=c?[c]:[]}return a}),d=a.backgroundPosition.split(","),e=a.backgroundRepeat.split(","),f=a.backgroundSize.split(",");return c.map(function(a,b){var c=(f[b]||s).trim().split(" ").map(z),g=(d[b]||s).trim().split(" ").map(A);return{source:a,repeat:x("string"==typeof e[b]?e[b]:e[0]),size:c.length<2?[c[0],u]:[c[0],c[1]],position:g.length<2?[g[0],g[0]]:[g[0],g[1]]}})},z=function(a){return"auto"===a?u:new t(a)},A=function(a){switch(a){case"bottom":case"right":return new i["default"]("100%");case"left":case"top":return new i["default"]("0%");case"auto":return new i["default"]("0")}return new i["default"](a)},B=b.parseBackgroundImage=function(a){var b=/^\s$/,c=[],d=[],e="",f=null,g="",h=0,i=0,j=function(){var a="";if(e){'"'===g.substr(0,1)&&(g=g.substr(1,g.length-2)),g&&d.push(g.trim());var b=e.indexOf("-",1)+1;"-"===e.substr(0,1)&&b>0&&(a=e.substr(0,b).toLowerCase(),e=e.substr(b)),e=e.toLowerCase(),"none"!==e&&c.push({prefix:a,method:e,args:d})}d=[],e=g=""};return a.split("").forEach(function(a){if(0!==h||!b.test(a)){switch(a){case'"':f?f===a&&(f=null):f=a;break;case"(":if(f)break;if(0===h)return void(h=1);i++;break;case")":if(f)break;if(1===h){if(0===i)return h=0,void j();i--}break;case",":if(f)break;if(0===h)return void j();if(1===h&&0===i&&!e.match(/^url$/i))return d.push(g.trim()),void(g="")}0===h?e+=a:g+=a}}),j(),c}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=c(3),f=function g(a,b){d(this,g),this.type=e.PATH.VECTOR,this.x=a,this.y=b,isNaN(a)&&console.error("Invalid x value given for Vector"),isNaN(b)&&console.error("Invalid y value given for Vector")};b["default"]=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(18),e=function(a){var b=123;if(a.createRange){var c=a.createRange();if(c.getBoundingClientRect){var d=a.createElement("boundtest");d.style.height=b+"px",d.style.display="block",a.body.appendChild(d),c.selectNode(d);var e=c.getBoundingClientRect(),f=Math.round(e.height);if(a.body.removeChild(d),f===b)return!0}}return!1},f=function(a,b){var c=new Image,d=a.createElement("canvas"),e=d.getContext("2d");return new Promise(function(a){c.src=b;var f=function(){try{e.drawImage(c,0,0),d.toDataURL()}catch(b){return a(!1)}return a(!0)};c.onload=f,c.onerror=function(){return a(!1)},c.complete===!0&&setTimeout(function(){f()},500)})},g=function(){return"undefined"!=typeof(new Image).crossOrigin},h=function(){return"string"==typeof(new XMLHttpRequest).responseType},i=function(a){var b=new Image,c=a.createElement("canvas"),d=c.getContext("2d");b.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{d.drawImage(b,0,0),c.toDataURL()}catch(e){return!1}return!0},j=function(a){return 0===a[0]&&255===a[1]&&0===a[2]&&255===a[3]},k=function(a){var b=a.createElement("canvas"),c=100;b.width=c,b.height=c;var e=b.getContext("2d");e.fillStyle="rgb(0, 255, 0)",e.fillRect(0,0,c,c);var f=new Image,g=b.toDataURL();f.src=g;var h=(0,d.createForeignObjectSVG)(c,c,0,0,f);return e.fillStyle="red",e.fillRect(0,0,c,c),(0,d.loadSerializedSVG)(h).then(function(b){e.drawImage(b,0,0);var f=e.getImageData(0,0,c,c).data;e.fillStyle="red",e.fillRect(0,0,c,c);var h=a.createElement("div");return h.style.backgroundImage="url("+g+")",h.style.height=c+"px",j(f)?(0,d.loadSerializedSVG)((0,d.createForeignObjectSVG)(c,c,0,0,h)):Promise.reject(!1)}).then(function(a){return e.drawImage(a,0,0),j(e.getImageData(0,0,c,c).data)})["catch"](function(a){return!1})},l={get SUPPORT_RANGE_BOUNDS(){var a=e(document);return Object.defineProperty(l,"SUPPORT_RANGE_BOUNDS",{value:a}),a},get SUPPORT_SVG_DRAWING(){var a=i(document);return Object.defineProperty(l,"SUPPORT_SVG_DRAWING",{value:a}),a},get SUPPORT_BASE64_DRAWING(){return function(a){var b=f(document,a);return Object.defineProperty(l,"SUPPORT_BASE64_DRAWING",{value:function(){return b}}),b}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var a="function"==typeof Array.from&&"function"==typeof window.fetch?k(document):Promise.resolve(!1);return Object.defineProperty(l,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:a}),a},get SUPPORT_CORS_IMAGES(){var a=g();return Object.defineProperty(l,"SUPPORT_CORS_IMAGES",{value:a}),a},get SUPPORT_RESPONSE_TYPE(){var a=h();return Object.defineProperty(l,"SUPPORT_RESPONSE_TYPE",{value:a}),a},get SUPPORT_CORS_XHR(){var a="withCredentials"in new XMLHttpRequest;return Object.defineProperty(l,"SUPPORT_CORS_XHR",{value:a}),a}};b["default"]=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.parseTextDecoration=b.TEXT_DECORATION_LINE=b.TEXT_DECORATION=b.TEXT_DECORATION_STYLE=void 0;var e=c(0),f=d(e),g=b.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},h=b.TEXT_DECORATION={NONE:null},i=b.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},j=function(a){switch(a){case"underline":return i.UNDERLINE;case"overline":return i.OVERLINE;case"line-through":return i.LINE_THROUGH}return i.BLINK},k=function(a){return"none"===a?null:a.split(" ").map(j)},l=function(a){switch(a){case"double":return g.DOUBLE;case"dotted":return g.DOTTED;case"dashed":return g.DASHED;case"wavy":return g.WAVY}return g.SOLID};b.parseTextDecoration=function(a){var b=k(a.textDecorationLine?a.textDecorationLine:a.textDecoration);if(null===b)return h.NONE;var c=a.textDecorationColor?new f["default"](a.textDecorationColor):null,d=l(a.textDecorationStyle);return{textDecorationLine:b,textDecorationColor:c,textDecorationStyle:d}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.parseBorder=b.BORDER_SIDES=b.BORDER_STYLE=void 0;var e=c(0),f=d(e),g=b.BORDER_STYLE={NONE:0,SOLID:1},h=b.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},i=Object.keys(h).map(function(a){return a.toLowerCase()}),j=function(a){switch(a){case"none":return g.NONE}return g.SOLID};b.parseBorder=function(a){return i.map(function(b){var c=new f["default"](a.getPropertyValue("border-"+b+"-color")),d=j(a.getPropertyValue("border-"+b+"-style")),e=parseFloat(a.getPropertyValue("border-"+b+"-width"));return{borderColor:c,borderStyle:d,borderWidth:isNaN(e)?0:e}})}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){return a.length>0?b+c.toUpperCase():a}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(15),h=c(17),i=function(){function a(b,c,e){d(this,a),this.text=b,this.parent=c,this.bounds=e}return f(a,null,[{key:"fromTextNode",value:function(b,c){var d=k(b.data,c.style.textTransform);return new a(d,c,(0,h.parseTextBounds)(d,c,b))}}]),a}();b["default"]=i;var j=/(^|\s|:|-|\(|\))([a-z])/g,k=function(a,b){switch(b){case g.TEXT_TRANSFORM.LOWERCASE:return a.toLowerCase();case g.TEXT_TRANSFORM.CAPITALIZE:return a.replace(j,e);case g.TEXT_TRANSFORM.UPPERCASE:return a.toUpperCase();default:return a}}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(3),g=c(8),h=function(){function a(b){d(this,a),this.canvas=b?b:document.createElement("canvas")}return e(a,[{key:"render",value:function(a){this.ctx=this.canvas.getContext("2d"),this.options=a,this.canvas.width=Math.floor(a.width*a.scale),this.canvas.height=Math.floor(a.height*a.scale),this.canvas.style.width=a.width+"px",this.canvas.style.height=a.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-a.x,-a.y),this.ctx.textBaseline="bottom",a.logger.log("Canvas renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+this.options.scale)}},{key:"clip",value:function(a,b){var c=this;a.length&&(this.ctx.save(),a.forEach(function(a){c.path(a),c.ctx.clip()})),b(),a.length&&this.ctx.restore()}},{key:"drawImage",value:function(a,b,c){this.ctx.drawImage(a,b.left,b.top,b.width,b.height,c.left,c.top,c.width,c.height)}},{key:"drawShape",value:function(a,b){this.path(a),this.ctx.fillStyle=b.toString(),this.ctx.fill()}},{key:"fill",value:function(a){this.ctx.fillStyle=a.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return Promise.resolve(this.canvas)}},{key:"path",value:function(a){var b=this;this.ctx.beginPath(),Array.isArray(a)?a.forEach(function(a,c){var d=a.type===f.PATH.VECTOR?a:a.start;0===c?b.ctx.moveTo(d.x,d.y):b.ctx.lineTo(d.x,d.y),a.type===f.PATH.BEZIER_CURVE&&b.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)}):this.ctx.arc(a.x+a.radius,a.y+a.radius,a.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(a,b,c,d,e){this.ctx.fillStyle=e.toString(),this.ctx.fillRect(a,b,c,d)}},{key:"renderLinearGradient",value:function(a,b){var c=this.ctx.createLinearGradient(a.left+b.direction.x1,a.top+b.direction.y1,a.left+b.direction.x0,a.top+b.direction.y0);b.colorStops.forEach(function(a){c.addColorStop(a.stop,a.color.toString())}),this.ctx.fillStyle=c,this.ctx.fillRect(a.left,a.top,a.width,a.height)}},{key:"renderRepeat",value:function(a,b,c,d,e){this.path(a),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(b,c),"repeat"),this.ctx.translate(d,e),this.ctx.fill(),this.ctx.translate(-d,-e)}},{key:"renderTextNode",value:function(a,b,c,d,e){var f=this;this.ctx.font=[c.fontStyle,c.fontVariant,c.fontWeight,c.fontSize,c.fontFamily].join(" ").split(",")[0],a.forEach(function(a){if(f.ctx.fillStyle=b.toString(),e&&a.text.trim().length?e.slice(0).reverse().forEach(function(b){f.ctx.shadowColor=b.color.toString(),f.ctx.shadowOffsetX=b.offsetX*f.options.scale,f.ctx.shadowOffsetY=b.offsetY*f.options.scale,f.ctx.shadowBlur=b.blur,f.ctx.fillText(a.text,a.bounds.left,a.bounds.top+a.bounds.height)}):f.ctx.fillText(a.text,a.bounds.left,a.bounds.top+a.bounds.height),null!==d){var h=d.textDecorationColor||b;d.textDecorationLine.forEach(function(b){switch(b){case g.TEXT_DECORATION_LINE.UNDERLINE:var d=f.options.fontMetrics.getMetrics(c),e=d.baseline;f.rectangle(a.bounds.left,Math.round(a.bounds.top+e),a.bounds.width,1,h);break;case g.TEXT_DECORATION_LINE.OVERLINE:f.rectangle(a.bounds.left,Math.round(a.bounds.top),a.bounds.width,1,h);break;case g.TEXT_DECORATION_LINE.LINE_THROUGH:var i=f.options.fontMetrics.getMetrics(c),j=i.middle;f.rectangle(a.bounds.left,Math.ceil(a.bounds.top+j),a.bounds.width,1,h)}})}})}},{key:"resizeImage",value:function(a,b){if(a.width===b.width&&a.height===b.height)return a;var c=this.canvas.ownerDocument.createElement("canvas");c.width=b.width,c.height=b.height;var d=c.getContext("2d");return d.drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height),c}},{key:"setOpacity",value:function(a){this.ctx.globalAlpha=a}},{key:"transform",value:function(a,b,c,d){this.ctx.save(),this.ctx.translate(a,b),this.ctx.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this.ctx.translate(-a,-b),d(),this.ctx.restore()}}]),a}();b["default"]=h},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a),this.start=c?c:Date.now(),this.id=b}return e(a,[{key:"child",value:function(b){return new a(b,this.start)}},{key:"log",value:function(){if(window.console&&window.console.log){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(b,0)))}}},{key:"error",value:function(){if(window.console&&window.console.error){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(b,0)))}}}]),a}();b["default"]=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(0),h=d(g),i=c(4),j=c(5),k=c(9),l=c(27),m=c(28),n=c(29),o=c(30),p=c(31),q=c(32),r=c(33),s=c(14),t=c(8),u=c(34),v=c(15),w=c(35),x=c(36),y=c(37),z=c(1),A=c(16),B=["INPUT","TEXTAREA","SELECT"],C=function(){function a(b,c,d,f){var g=this;e(this,a),this.parent=c,this.index=f,this.childNodes=[];var i=b.ownerDocument.defaultView,C=i.pageXOffset,E=i.pageYOffset,F=i.getComputedStyle(b,null),G=(0,m.parseDisplay)(F.display),H="radio"===b.type||"checkbox"===b.type,I=(0,s.parsePosition)(F.position);this.style={background:H?A.INPUT_BACKGROUND:(0,j.parseBackground)(F,d),border:H?A.INPUT_BORDERS:(0,k.parseBorder)(F),borderRadius:(b instanceof i.HTMLInputElement||b instanceof HTMLInputElement)&&H?(0,A.getInputBorderRadius)(b):(0,
l.parseBorderRadius)(F),color:H?A.INPUT_COLOR:new h["default"](F.color),display:G,"float":(0,n.parseCSSFloat)(F["float"]),font:(0,o.parseFont)(F),letterSpacing:(0,p.parseLetterSpacing)(F.letterSpacing),opacity:parseFloat(F.opacity),overflow:B.indexOf(b.tagName)===-1?(0,q.parseOverflow)(F.overflow):q.OVERFLOW.HIDDEN,padding:(0,r.parsePadding)(F),position:I,textDecoration:(0,t.parseTextDecoration)(F),textShadow:(0,u.parseTextShadow)(F.textShadow),textTransform:(0,v.parseTextTransform)(F.textTransform),transform:(0,w.parseTransform)(F),visibility:(0,x.parseVisibility)(F.visibility),zIndex:(0,y.parseZIndex)(I!==s.POSITION.STATIC?F.zIndex:"auto")},this.isTransformed()&&(b.style.transform="matrix(1,0,0,1,0,0)"),"IMG"===b.tagName&&b.addEventListener("load",function(){g.bounds=(0,z.parseBounds)(b,C,E),g.curvedBounds=(0,z.parseBoundCurves)(g.bounds,g.style.border,g.style.borderRadius)}),this.image=D(b,d),this.bounds=H?(0,A.reformatInputBounds)((0,z.parseBounds)(b,C,E)):(0,z.parseBounds)(b,C,E),this.curvedBounds=(0,z.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius),this.name=""+b.tagName.toLowerCase()+(b.id?"#"+b.id:"")+b.className.toString().split(" ").map(function(a){return a.length?"."+a:""}).join("")}return f(a,[{key:"getClipPaths",value:function(){var a=this.parent?this.parent.getClipPaths():[],b=this.style.overflow===q.OVERFLOW.HIDDEN||this.style.overflow===q.OVERFLOW.SCROLL;return b?a.concat([(0,z.calculatePaddingBoxPath)(this.curvedBounds)]):a}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,i.contains)(this.style.display,m.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===x.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==s.POSITION.STATIC&&this.style.position!==s.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==s.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style["float"]!==n.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,i.contains)(this.style.display,m.DISPLAY.INLINE)||(0,i.contains)(this.style.display,m.DISPLAY.INLINE_BLOCK)||(0,i.contains)(this.style.display,m.DISPLAY.INLINE_FLEX)||(0,i.contains)(this.style.display,m.DISPLAY.INLINE_GRID)||(0,i.contains)(this.style.display,m.DISPLAY.INLINE_LIST_ITEM)||(0,i.contains)(this.style.display,m.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,i.contains)(this.style.display,m.DISPLAY.INLINE_BLOCK)||(0,i.contains)(this.style.display,m.DISPLAY.INLINE_TABLE)}}]),a}();b["default"]=C;var D=function(a,b){if(a instanceof a.ownerDocument.defaultView.SVGSVGElement||a instanceof SVGSVGElement){var c=new XMLSerializer;return b.loadImage("data:image/svg+xml,"+encodeURIComponent(c.serializeToString(a)))}switch(a.tagName){case"IMG":var d=a;return b.loadImage(d.currentSrc||d.src);case"CANVAS":var e=a;return b.loadCanvas(e);case"IFRAME":var f=a.getAttribute("data-html2canvas-internal-iframe-key");if(f)return f}return null}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};b.parsePosition=function(a){switch(a){case"relative":return d.RELATIVE;case"absolute":return d.ABSOLUTE;case"fixed":return d.FIXED;case"sticky":return d.STICKY}return d.STATIC}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};b.parseTextTransform=function(a){switch(a){case"uppercase":return d.UPPERCASE;case"lowercase":return d.LOWERCASE;case"capitalize":return d.CAPITALIZE}return d.NONE}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.reformatInputBounds=b.inlineSelectElement=b.inlineTextAreaElement=b.inlineInputElement=b.getInputBorderRadius=b.INPUT_BACKGROUND=b.INPUT_BORDERS=b.INPUT_COLOR=void 0;var e=c(10),f=d(e),g=c(5),h=c(9),i=c(41),j=d(i),k=c(6),l=d(k),m=c(0),n=d(m),o=c(2),p=d(o),q=(c(1),c(17),c(4)),r=(b.INPUT_COLOR=new n["default"]([42,42,42]),new n["default"]([165,165,165])),s=new n["default"]([222,222,222]),t={borderWidth:1,borderColor:r,borderStyle:h.BORDER_STYLE.SOLID},u=(b.INPUT_BORDERS=[t,t,t,t],b.INPUT_BACKGROUND={backgroundColor:s,backgroundImage:[],backgroundClip:g.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:g.BACKGROUND_ORIGIN.PADDING_BOX},new p["default"]("50%")),v=[u,u],w=[v,v,v,v],x=new p["default"]("3px"),y=[x,x],z=[y,y,y,y],A=(b.getInputBorderRadius=function(a){return"radio"===a.type?w:z},b.inlineInputElement=function(a,b){if("radio"===a.type||"checkbox"===a.type){if(a.checked){var c=Math.min(b.bounds.width,b.bounds.height);b.childNodes.push("checkbox"===a.type?[new l["default"](b.bounds.left+.39363*c,b.bounds.top+.79*c),new l["default"](b.bounds.left+.16*c,b.bounds.top+.5549*c),new l["default"](b.bounds.left+.27347*c,b.bounds.top+.44071*c),new l["default"](b.bounds.left+.39694*c,b.bounds.top+.5649*c),new l["default"](b.bounds.left+.72983*c,b.bounds.top+.23*c),new l["default"](b.bounds.left+.84*c,b.bounds.top+.34085*c),new l["default"](b.bounds.left+.39363*c,b.bounds.top+.79*c)]:new j["default"](b.bounds.left+c/4,b.bounds.top+c/4,c/4))}}else A(B(a),a,b,!1)},b.inlineTextAreaElement=function(a,b){A(a.value,a,b,!0)},b.inlineSelectElement=function(a,b){var c=a.options[a.selectedIndex||0];A(c?c.text||"":"",a,b,!1)},b.reformatInputBounds=function(a){return a.width>a.height?(a.left+=(a.width-a.height)/2,a.width=a.height):a.width<a.height&&(a.top+=(a.height-a.width)/2,a.height=a.width),a},function(a,b,c,d){var e=b.ownerDocument.body;if(a.length>0&&e){var g=b.ownerDocument.createElement("html2canvaswrapper");(0,q.copyCSSStyles)(b.ownerDocument.defaultView.getComputedStyle(b,null),g),g.style.position="fixed",g.style.left=c.bounds.left+"px",g.style.top=c.bounds.top+"px",d||(g.style.whiteSpace="nowrap");var h=b.ownerDocument.createTextNode(a);g.appendChild(h),e.appendChild(g),c.childNodes.push(f["default"].fromTextNode(h,c)),e.removeChild(g)}}),B=function(a){var b="password"===a.type?new Array(a.value.length+1).join("â€¢"):a.value;return 0===b.length?a.placeholder||"":b}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.parseTextBounds=b.TextBounds=void 0;var f=c(38),g=c(1),h=c(8),i=c(7),j=d(i),k=/[^\u0000-\u00ff]/,l=function(a){return k.test(a)},m=function(a){return f.ucs2.encode([a])},n=b.TextBounds=function s(a,b){e(this,s),this.text=a,this.bounds=b},o=(b.parseTextBounds=function(a,b,c){for(var d=f.ucs2.decode(a),e=0!==b.style.letterSpacing||l(a),g=e?d.map(m):q(d),i=g.length,k=c.parentNode?c.parentNode.ownerDocument.defaultView:null,r=k?k.pageXOffset:0,s=k?k.pageYOffset:0,t=[],u=0,v=0;v<i;v++){var w=g[v];if(b.style.textDecoration!==h.TEXT_DECORATION.NONE||w.trim().length>0)if(j["default"].SUPPORT_RANGE_BOUNDS)t.push(new n(w,p(c,u,w.length,r,s)));else{var x=c.splitText(w.length);t.push(new n(w,o(c,r,s))),c=x}else j["default"].SUPPORT_RANGE_BOUNDS||(c=c.splitText(w.length));u+=w.length}return t},function(a,b,c){var d=a.ownerDocument.createElement("html2canvaswrapper");d.appendChild(a.cloneNode(!0));var e=a.parentNode;if(e){e.replaceChild(d,a);var f=(0,g.parseBounds)(d,b,c);return d.firstChild&&e.replaceChild(d.firstChild,d),f}return new g.Bounds(0,0,0,0)}),p=function(a,b,c,d,e){var f=a.ownerDocument.createRange();return f.setStart(a,b),f.setEnd(a,b+c),g.Bounds.fromClientRect(f.getBoundingClientRect(),d,e)},q=function(a){for(var b=[],c=0,d=!1,e=void 0;a.length;)r(a[c])===d?(e=a.splice(0,c),e.length&&b.push(f.ucs2.encode(e)),d=!d,c=0):c++,c>=a.length&&(e=a.splice(0,c),e.length&&b.push(f.ucs2.encode(e)));return b},r=function(a){return[32,13,10,9,45].indexOf(a)!==-1}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.element=b}return e(a,[{key:"render",value:function(a){var b=this;this.options=a,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(a.width)*a.scale,this.canvas.height=Math.floor(a.height)*a.scale,this.canvas.style.width=a.width+"px",this.canvas.style.height=a.height+"px",a.logger.log("ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale);var c=g(Math.max(a.windowWidth,a.width)*a.scale,Math.max(a.windowHeight,a.height)*a.scale,a.scrollX*a.scale,a.scrollY*a.scale,this.element);return h(c).then(function(c){return a.backgroundColor&&(b.ctx.fillStyle=a.backgroundColor.toString(),b.ctx.fillRect(0,0,a.width*a.scale,a.height*a.scale)),b.ctx.drawImage(c,-a.x*a.scale,-a.y*a.scale),b.canvas})}}]),a}();b["default"]=f;var g=b.createForeignObjectSVG=function(a,b,c,d,e){var f="http://www.w3.org/2000/svg",g=document.createElementNS(f,"svg"),h=document.createElementNS(f,"foreignObject");return g.setAttributeNS(null,"width",a),g.setAttributeNS(null,"height",b),h.setAttributeNS(null,"width","100%"),h.setAttributeNS(null,"height","100%"),h.setAttributeNS(null,"x",c),h.setAttributeNS(null,"y",d),h.setAttributeNS(null,"externalResourcesRequired","true"),g.appendChild(h),h.appendChild(e),g},h=b.loadSerializedSVG=function(a){return new Promise(function(b,c){var d=new Image;d.onload=function(){return b(d)},d.onerror=c,d.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(a))})}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.FontMetrics=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(4),g="Hidden Text";b.FontMetrics=function(){function a(b){d(this,a),this._data={},this._document=b}return e(a,[{key:"_parseMetrics",value:function(a){var b=this._document.createElement("div"),c=this._document.createElement("img"),d=this._document.createElement("span"),e=this._document.body;if(!e)throw new Error("No document found for font metrics");b.style.visibility="hidden",b.style.fontFamily=a.fontFamily,b.style.fontSize=a.fontSize,b.style.margin="0",b.style.padding="0",e.appendChild(b),c.src=f.SMALL_IMAGE,c.width=1,c.height=1,c.style.margin="0",c.style.padding="0",c.style.verticalAlign="baseline",d.style.fontFamily=a.fontFamily,d.style.fontSize=a.fontSize,d.style.margin="0",d.style.padding="0",d.appendChild(this._document.createTextNode(g)),b.appendChild(d),b.appendChild(c);var h=c.offsetTop-d.offsetTop+2;b.removeChild(d),b.appendChild(this._document.createTextNode(g)),b.style.lineHeight="normal",c.style.verticalAlign="super";var i=c.offsetTop-b.offsetTop+2;return e.removeChild(b),{baseline:h,middle:i}}},{key:"getMetrics",value:function(a){return void 0===this._data[a.fontFamily+" "+a.fontSize]&&(this._data[a.fontFamily+" "+a.fontSize]=this._parseMetrics(a)),this._data[a.fontFamily+" "+a.fontSize]}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.Proxy=void 0;var e=c(7),f=d(e);b.Proxy=function(a,b){if(!b.proxy)return Promise.reject("No proxy defined");var c=b.proxy;return new Promise(function(d,e){var g=f["default"].SUPPORT_CORS_XHR&&f["default"].SUPPORT_RESPONSE_TYPE?"blob":"text",h=f["default"].SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(h.onload=function(){if(h instanceof XMLHttpRequest)if(200===h.status)if("text"===g)d(h.response);else{var b=new FileReader;b.addEventListener("load",function(){return d(b.result)},!1),b.addEventListener("error",function(a){return e(a)},!1),b.readAsDataURL(h.response)}else e("Failed to proxy resource "+a.substring(0,256)+" with status code "+h.status);else d(h.responseText)},h.onerror=e,h.open("GET",c+"?url="+encodeURIComponent(a)+"&responseType="+g),"text"!==g&&h instanceof XMLHttpRequest&&(h.responseType=g),b.imageTimeout){var i=b.imageTimeout;h.timeout=i,h.ontimeout=function(){return e("Timed out ("+i+"ms) proxying "+a.substring(0,256))}}h.send()})}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(11),h=d(g),i=c(12),j=d(i),k=c(22),l=c(1),m=function(a,b){"object"===("undefined"==typeof console?"undefined":f(console))&&"function"==typeof console.log&&console.log("html2canvas 1.0.0-alpha.2");var c=b||{},d=new j["default"];"function"==typeof c.onrendered&&d.error("onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value");var g=a.ownerDocument;if(!g)return Promise.reject("Provided element is not within a Document");var i=g.defaultView,m=i.pageXOffset,n=i.pageYOffset,o="HTML"===a.tagName||"BODY"===a.tagName,p=o?(0,l.parseDocumentSize)(g):(0,l.parseBounds)(a,m,n),q=p.width,r=p.height,s=p.left,t=p.top,u={async:!0,allowTaint:!1,imageTimeout:15e3,proxy:null,removeContainer:!0,foreignObjectRendering:!0,scale:i.devicePixelRatio||1,target:new h["default"](c.canvas),x:s,y:t,width:Math.ceil(q),height:Math.ceil(r),windowWidth:i.innerWidth,windowHeight:i.innerHeight,scrollX:i.pageXOffset,scrollY:i.pageYOffset},v=(0,k.renderElement)(a,e({},u,c),d);return v["catch"](function(a){throw d.error(a),a})};m.CanvasRenderer=h["default"],a.exports=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.renderElement=void 0;var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=c(12),g=(d(f),c(23)),h=c(42),i=d(h),j=c(18),k=d(j),l=c(7),m=d(l),n=c(1),o=c(45),p=c(19),q=c(0),r=d(q);b.renderElement=function s(a,b,c){var d=a.ownerDocument,f=new n.Bounds(b.scrollX,b.scrollY,b.windowWidth,b.windowHeight),h=d.documentElement?new r["default"](getComputedStyle(d.documentElement).backgroundColor):q.TRANSPARENT,j=d.body?new r["default"](getComputedStyle(d.body).backgroundColor):q.TRANSPARENT,l=a===d.documentElement?h.isTransparent()?j.isTransparent()?b.backgroundColor?new r["default"](b.backgroundColor):null:j:h:b.backgroundColor?new r["default"](b.backgroundColor):null;return(b.foreignObjectRendering?m["default"].SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then(function(h){return h?function(a){return c.log("Document cloned, using foreignObject rendering"),a.inlineFonts(d).then(function(){return a.resourceLoader.ready()}).then(function(){var d=new k["default"](a.documentElement);return d.render({backgroundColor:l,logger:c,scale:b.scale,x:b.x,y:b.y,width:b.width,height:b.height,windowWidth:b.windowWidth,windowHeight:b.windowHeight,scrollX:b.scrollX,scrollY:b.scrollY})})}(new o.DocumentCloner(a,b,c,(!0),s)):(0,o.cloneWindow)(d,f,a,b,c,s).then(function(a){var d=e(a,3),f=d[0],h=d[1],j=d[2];c.log("Document cloned, using computed rendering");var k=(0,g.NodeParser)(h,j,c),m=h.ownerDocument;return l===k.container.style.background.backgroundColor&&(k.container.style.background.backgroundColor=q.TRANSPARENT),j.ready().then(function(a){b.removeContainer===!0&&(f.parentNode?f.parentNode.removeChild(f):c.log("Cannot detach cloned iframe as it is not in the DOM anymore"));var d=new p.FontMetrics(m);c.log("Starting renderer");var e={backgroundColor:l,fontMetrics:d,imageStore:a,logger:c,scale:b.scale,x:b.x,y:b.y,width:b.width,height:b.height};if(Array.isArray(b.target))return Promise.all(b.target.map(function(a){var b=new i["default"](a,e);return b.render(k)}));var g=new i["default"](b.target,e);return g.render(k)})})})}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.NodeParser=void 0;var e=c(24),f=d(e),g=c(13),h=d(g),i=c(10),j=d(i),k=c(16),l=(b.NodeParser=function(a,b,c){c.log("Starting node parsing");var d=0,e=new h["default"](a,null,b,(d++)),g=new f["default"](e,null,(!0));return m(a,e,g,b,d),c.log("Finished parsing node tree"),g},["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"]),m=function q(a,b,c,d,e){if(e>5e4)throw new Error("Recursion error while parsing node tree");for(var g,i=a.firstChild;i;i=g){g=i.nextSibling;var m=i.ownerDocument.defaultView;if(i instanceof m.Text||i instanceof Text||m.parent&&i instanceof m.parent.Text)i.data.trim().length>0&&b.childNodes.push(j["default"].fromTextNode(i,b));else if(i instanceof m.HTMLElement||i instanceof HTMLElement||m.parent&&i instanceof m.parent.HTMLElement){if(l.indexOf(i.nodeName)===-1){var p=new h["default"](i,b,d,(e++));if(p.isVisible()){"INPUT"===i.tagName?(0,k.inlineInputElement)(i,p):"TEXTAREA"===i.tagName?(0,k.inlineTextAreaElement)(i,p):"SELECT"===i.tagName&&(0,k.inlineSelectElement)(i,p);var r="TEXTAREA"!==i.tagName,s=n(p,i);if(s||o(p)){var t=s||p.isPositioned()?c.getRealParentStackingContext():c,u=new f["default"](p,t,s);t.contexts.push(u),r&&q(i,p,u,d,e)}else c.children.push(p),r&&q(i,p,c,d,e)}}}else if(i instanceof m.SVGSVGElement||i instanceof SVGSVGElement||m.parent&&i instanceof m.parent.SVGSVGElement){var v=new h["default"](i,b,d,(e++)),w=n(v,i);if(w||o(v)){var x=w||v.isPositioned()?c.getRealParentStackingContext():c,y=new f["default"](v,x,w);x.contexts.push(y)}else c.children.push(v)}}},n=function(a,b){return a.isRootElement()||a.isPositionedWithZIndex()||a.style.opacity<1||a.isTransformed()||p(a,b)},o=function(a){return a.isPositioned()||a.isFloating()},p=function(a,b){return"BODY"===b.nodeName&&a.parent instanceof h["default"]&&a.parent.style.background.backgroundColor.isTransparent()}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(13),h=(d(g),c(14),function(){function a(b,c,d){e(this,a),this.container=b,this.parent=c,this.contexts=[],this.children=[],this.treatAsRealStackingContext=d}return f(a,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),a}());b["default"]=h},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function f(a,b){d(this,f),this.width=a,this.height=b};b["default"]=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(3),h=c(6),i=d(h),j=function(a,b,c){return new i["default"](a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c)},k=function(){function a(b,c,d,f){e(this,a),this.type=g.PATH.BEZIER_CURVE,this.start=b,this.startControl=c,this.endControl=d,this.end=f}return f(a,[{key:"subdivide",value:function(b,c){var d=j(this.start,this.startControl,b),e=j(this.startControl,this.endControl,b),f=j(this.endControl,this.end,b),g=j(d,e,b),h=j(e,f,b),i=j(g,h,b);return c?new a(this.start,d,g,i):new a(i,h,f,this.end)}},{key:"reverse",value:function(){return new a(this.end,this.endControl,this.startControl,this.start)}}]),a}();b["default"]=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.parseBorderRadius=void 0;var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=c(2),g=d(f),h=["top-left","top-right","bottom-right","bottom-left"];b.parseBorderRadius=function(a){return h.map(function(b){var c=a.getPropertyValue("border-"+b+"-radius"),d=c.split(" ").map(g["default"].create),f=e(d,2),h=f[0],i=f[1];return"undefined"==typeof i?[h,h]:[h,i]})}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},e=function(a){switch(a){case"block":return d.BLOCK;case"inline":return d.INLINE;case"run-in":return d.RUN_IN;case"flow":return d.FLOW;case"flow-root":return d.FLOW_ROOT;case"table":return d.TABLE;case"flex":return d.FLEX;case"grid":return d.GRID;case"ruby":return d.RUBY;case"subgrid":return d.SUBGRID;case"list-item":return d.LIST_ITEM;case"table-row-group":return d.TABLE_ROW_GROUP;case"table-header-group":return d.TABLE_HEADER_GROUP;case"table-footer-group":return d.TABLE_FOOTER_GROUP;case"table-row":return d.TABLE_ROW;case"table-cell":return d.TABLE_CELL;case"table-column-group":return d.TABLE_COLUMN_GROUP;case"table-column":return d.TABLE_COLUMN;case"table-caption":return d.TABLE_CAPTION;case"ruby-base":return d.RUBY_BASE;case"ruby-text":return d.RUBY_TEXT;case"ruby-base-container":return d.RUBY_BASE_CONTAINER;case"ruby-text-container":return d.RUBY_TEXT_CONTAINER;case"contents":return d.CONTENTS;case"inline-block":return d.INLINE_BLOCK;case"inline-list-item":return d.INLINE_LIST_ITEM;case"inline-table":return d.INLINE_TABLE;case"inline-flex":return d.INLINE_FLEX;case"inline-grid":return d.INLINE_GRID}return d.NONE},f=function(a,b){return a|e(b)};b.parseDisplay=function(a){return a.split(" ").reduce(f,0)}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};b.parseCSSFloat=function(a){switch(a){case"left":return d.LEFT;case"right":return d.RIGHT;case"inline-start":return d.INLINE_START;case"inline-end":return d.INLINE_END}return d.NONE}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(a){switch(a){case"normal":return 400;case"bold":return 700}var b=parseInt(a,10);return isNaN(b)?400:b};b.parseFont=function(a){var b=a.fontFamily,c=a.fontSize,e=a.fontStyle,f=a.fontVariant,g=d(a.fontWeight);return{fontFamily:b,fontSize:c,fontStyle:e,fontVariant:f,fontWeight:g}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.parseLetterSpacing=function(a){if("normal"===a)return 0;var b=parseFloat(a);return isNaN(b)?0:b}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};b.parseOverflow=function(a){switch(a){case"hidden":return d.HIDDEN;case"scroll":return d.SCROLL;case"auto":return d.AUTO;case"visible":default:return d.VISIBLE}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.parsePadding=void 0;var e=c(2),f=d(e),g=["top","right","bottom","left"];b.parsePadding=function(a){return g.map(function(b){return new f["default"](a.getPropertyValue("padding-"+b))})}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.parseTextShadow=void 0;var e=c(0),f=d(e),g=/^([+-]|\d|\.)$/i;b.parseTextShadow=function(a){if("none"===a||"string"!=typeof a)return null;for(var b="",c=!1,d=[],e=[],h=0,i=null,j=function(){b.length&&(c?d.push(parseFloat(b)):i=new f["default"](b)),c=!1,b=""},k=function(){d.length&&null!==i&&e.push({color:i,offsetX:d[0]||0,offsetY:d[1]||0,blur:d[2]||0}),d.splice(0,d.length),i=null},l=0;l<a.length;l++){var m=a[l];switch(m){case"(":b+=m,h++;break;case")":b+=m,h--;break;case",":0===h?(j(),k()):b+=m;break;case" ":0===h?j():b+=m;break;default:0===b.length&&g.test(m)&&(c=!0),b+=m}}return j(),k(),0===e.length?null:e}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.parseTransform=void 0;var e=c(2),f=d(e),g=function(a){return parseFloat(a.trim())},h=/(matrix|matrix3d)\((.+)\)/,i=(b.parseTransform=function(a){var b=j(a.transform||a.webkitTransform||a.mozTransform||a.msTransform||a.oTransform);return null===b?null:{transform:b,transformOrigin:i(a.transformOrigin||a.webkitTransformOrigin||a.mozTransformOrigin||a.msTransformOrigin||a.oTransformOrigin)}},function(a){if("string"!=typeof a){var b=new f["default"]("0");return[b,b]}var c=a.split(" ").map(f["default"].create);return[c[0],c[1]]}),j=function(a){if("none"===a||"string"!=typeof a)return null;var b=a.match(h);if(b){if("matrix"===b[1]){var c=b[2].split(",").map(g);return[c[0],c[1],c[2],c[3],c[4],c[5]]}var d=b[2].split(",").map(g);return[d[0],d[1],d[4],d[5],d[12],d[13]]}return null}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};b.parseVisibility=function(a){switch(a){case"hidden":return d.HIDDEN;case"collapse":return d.COLLAPSE;case"visible":default:return d.VISIBLE}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.parseZIndex=function(a){var b="auto"===a;return{auto:b,order:b?0:parseInt(a,10)}}},function(a,b,c){(function(a,d){var e;!function(f){function g(a){throw new RangeError(G[a])}function h(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function i(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(F,".");var e=a.split("."),f=h(e,b).join(".");return d+f}function j(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function k(a){return h(a,function(a){var b="";return a>65535&&(a-=65536,b+=J(a>>>10&1023|55296),a=56320|1023&a),b+=J(a)}).join("")}function l(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:v}function m(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function n(a,b,c){var d=0;for(a=c?I(a/z):a>>1,a+=I(a/b);a>H*x>>1;d+=v)a=I(a/H);return I(d+(H+1)*a/(a+y))}function o(a){var b,c,d,e,f,h,i,j,m,o,p=[],q=a.length,r=0,s=B,t=A;for(c=a.lastIndexOf(C),c<0&&(c=0),d=0;d<c;++d)a.charCodeAt(d)>=128&&g("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;e<q;){for(f=r,h=1,i=v;e>=q&&g("invalid-input"),j=l(a.charCodeAt(e++)),(j>=v||j>I((u-r)/h))&&g("overflow"),r+=j*h,m=i<=t?w:i>=t+x?x:i-t,!(j<m);i+=v)o=v-m,h>I(u/o)&&g("overflow"),h*=o;b=p.length+1,t=n(r-f,b,0==f),I(r/b)>u-s&&g("overflow"),s+=I(r/b),r%=b,p.splice(r++,0,s)}return k(p)}function p(a){var b,c,d,e,f,h,i,k,l,o,p,q,r,s,t,y=[];for(a=j(a),q=a.length,b=B,c=0,f=A,h=0;h<q;++h)p=a[h],p<128&&y.push(J(p));for(d=e=y.length,e&&y.push(C);d<q;){for(i=u,h=0;h<q;++h)p=a[h],p>=b&&p<i&&(i=p);for(r=d+1,i-b>I((u-c)/r)&&g("overflow"),c+=(i-b)*r,b=i,h=0;h<q;++h)if(p=a[h],p<b&&++c>u&&g("overflow"),p==b){for(k=c,l=v;o=l<=f?w:l>=f+x?x:l-f,!(k<o);l+=v)t=k-o,s=v-o,y.push(J(m(o+t%s,0))),k=I(t/s);y.push(J(m(k,0))),f=n(c,r,d==e),c=0,++d}++c,++b}return y.join("")}function q(a){return i(a,function(a){return D.test(a)?o(a.slice(4).toLowerCase()):a})}function r(a){return i(a,function(a){return E.test(a)?"xn--"+p(a):a})}var s=("object"==typeof b&&b&&!b.nodeType&&b,"object"==typeof a&&a&&!a.nodeType&&a,"object"==typeof d&&d);s.global!==s&&s.window!==s&&s.self!==s||(f=s);var t,u=2147483647,v=36,w=1,x=26,y=38,z=700,A=72,B=128,C="-",D=/^xn--/,E=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},H=v-w,I=Math.floor,J=String.fromCharCode;t={version:"1.4.1",ucs2:{decode:j,encode:k},decode:o,encode:p,toASCII:r,toUnicode:q},e=function(){return t}.call(b,c,b,a),!(void 0!==e&&(a.exports=e))}(this)}).call(b,c(39)(a),c(40))},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(d){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=c(3),f=function g(a,b,c){d(this,g),this.type=e.PATH.CIRCLE,this.x=a,this.y=b,this.radius=c,isNaN(a)&&console.error("Invalid x value given for Circle"),isNaN(b)&&console.error("Invalid y value given for Circle"),isNaN(c)&&console.error("Invalid radius value given for Circle")};b["default"]=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),
d&&a(b,d),b}}(),h=c(1),i=(c(19),c(43)),j=c(10),k=d(j),l=c(5),m=c(9),n=function(){function a(b,c){e(this,a),this.target=b,this.options=c,b.render(c)}return g(a,[{key:"renderNode",value:function(a){a.isVisible()&&(this.renderNodeBackgroundAndBorders(a),this.renderNodeContent(a))}},{key:"renderNodeContent",value:function(a){var b=this,c=function(){if(a.childNodes.length&&a.childNodes.forEach(function(c){if(c instanceof k["default"]){var d=c.parent.style;b.target.renderTextNode(c.bounds,d.color,d.font,d.textDecoration,d.textShadow)}else b.target.drawShape(c,a.style.color)}),a.image){var c=b.options.imageStore.get(a.image);if(c){var d=(0,h.calculateContentBox)(a.bounds,a.style.padding,a.style.border),e="number"==typeof c.width&&c.width>0?c.width:d.width,f="number"==typeof c.height&&c.height>0?c.height:d.height;e>0&&f>0&&b.target.clip([(0,h.calculatePaddingBoxPath)(a.curvedBounds)],function(){b.target.drawImage(c,new h.Bounds(0,0,e,f),d)})}}},d=a.getClipPaths();d.length?this.target.clip(d,c):c()}},{key:"renderNodeBackgroundAndBorders",value:function(a){var b=this,c=!a.style.background.backgroundColor.isTransparent()||a.style.background.backgroundImage.length,d=a.style.border.filter(function(a){return a.borderStyle!==m.BORDER_STYLE.NONE&&!a.borderColor.isTransparent()}),e=function(){var e=(0,l.calculateBackgroungPaintingArea)(a.curvedBounds,a.style.background.backgroundClip);c&&b.target.clip([e],function(){a.style.background.backgroundColor.isTransparent()||b.target.fill(a.style.background.backgroundColor),b.renderBackgroundImage(a)}),d.forEach(function(c,d){b.renderBorder(c,d,a.curvedBounds)})};if(c||d.length){var f=a.parent?a.parent.getClipPaths():[];f.length?this.target.clip(f,e):e()}}},{key:"renderBackgroundImage",value:function(a){var b=this;a.style.background.backgroundImage.slice(0).reverse().forEach(function(c){if("url"===c.source.method&&c.source.args.length)b.renderBackgroundRepeat(a,c);else{var d=(0,i.parseGradient)(c.source,a.bounds);if(d){var e=a.bounds;b.target.renderLinearGradient(e,d)}}})}},{key:"renderBackgroundRepeat",value:function(a,b){var c=this.options.imageStore.get(b.source.args[0]);if(c){var d=a.bounds,e=(0,h.calculatePaddingBox)(d,a.style.border),f=(0,l.calculateBackgroundSize)(b,c,d),g=a.style.background.backgroundOrigin===l.BACKGROUND_ORIGIN.BORDER_BOX?d:e,i=(0,l.calculateBackgroundPosition)(b.position,f,g),j=(0,l.calculateBackgroundRepeatPath)(b,i,f,g,d),k=Math.round(e.left+i.x),m=Math.round(e.top+i.y);this.target.renderRepeat(j,c,f,k,m)}}},{key:"renderBorder",value:function(a,b,c){this.target.drawShape((0,h.parsePathForBorder)(c,b),a.borderColor)}},{key:"renderStack",value:function(a){var b=this;if(a.container.isVisible()){var c=a.getOpacity();c!==this._opacity&&(this.target.setOpacity(a.getOpacity()),this._opacity=c);var d=a.container.style.transform;null!==d?this.target.transform(a.container.bounds.left+d.transformOrigin[0].value,a.container.bounds.top+d.transformOrigin[1].value,d.transform,function(){return b.renderStackContent(a)}):this.renderStackContent(a)}}},{key:"renderStackContent",value:function(a){var b=p(a),c=f(b,5),d=c[0],e=c[1],g=c[2],h=c[3],i=c[4],j=o(a),k=f(j,2),l=k[0],m=k[1];this.renderNodeBackgroundAndBorders(a.container),d.sort(q).forEach(this.renderStack,this),this.renderNodeContent(a.container),m.forEach(this.renderNode,this),h.forEach(this.renderStack,this),i.forEach(this.renderStack,this),l.forEach(this.renderNode,this),e.forEach(this.renderStack,this),g.sort(q).forEach(this.renderStack,this)}},{key:"render",value:function(a){var b=this;this.options.backgroundColor&&this.target.rectangle(0,0,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(a);var c=this.target.getTarget();return c.then(function(a){return b.options.logger.log("Render completed"),a})}}]),a}();b["default"]=n;var o=function(a){for(var b=[],c=[],d=a.children.length,e=0;e<d;e++){var f=a.children[e];f.isInlineLevel()?b.push(f):c.push(f)}return[b,c]},p=function(a){for(var b=[],c=[],d=[],e=[],f=[],g=a.contexts.length,h=0;h<g;h++){var i=a.contexts[h];i.container.isPositioned()||i.container.style.opacity<1||i.container.isTransformed()?i.container.style.zIndex.order<0?b.push(i):i.container.style.zIndex.order>0?d.push(i):c.push(i):i.container.isFloating()?e.push(i):f.push(i)}return[b,c,d,e,f]},q=function(a,b){return a.container.style.zIndex.order>b.container.style.zIndex.order?1:a.container.style.zIndex.order<b.container.style.zIndex.order?-1:a.container.index>b.container.index?1:-1}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.parseGradient=void 0;var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=c(44),g=c(0),h=d(g),i=c(2),j=d(i),k=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,l=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,m=/(px)|%|( 0)$/i,n=/^(from|to)\((.+)\)$/i,o=(b.parseGradient=function(a,b){var c=a.args,d=a.method;a.prefix;return"linear-gradient"===d?o(c,b):"gradient"===d&&"linear"===c[0]?o(["to bottom"].concat(c.slice(3).map(function(a){return a.match(n)}).filter(function(a){return null!==a}).map(function(a){return a[2]})),b):void 0},function(a,b){for(var c=(0,f.parseAngle)(a[0]),d=k.test(a[0]),e=d||null!==c||l.test(a[0]),g=e?null!==c?p(c,b):d?r(a[0],b):s(a[0],b):p(Math.PI,b),i=[],n=e?1:0,o=n;o<a.length;o++){var q=a[o],t=m.test(q),u=q.lastIndexOf(" "),v=new h["default"](t?q.substring(0,u):q),w=t?new j["default"](q.substring(u+1)):o===n?new j["default"]("0%"):o===a.length-1?new j["default"]("100%"):null;i.push({color:v,stop:w})}for(var x=Math.min(Math.sqrt(Math.pow(Math.abs(g.x0)+Math.abs(g.x1),2)+Math.pow(Math.abs(g.y0)+Math.abs(g.y1),2)),2*b.width,2*b.height),y=i.map(function(a){var b=a.color,c=a.stop;return{color:b,stop:c?c.getAbsoluteValue(x)/x:null}}),z=y[0].stop,A=0;A<y.length;A++)if(null!==z){var B=y[A].stop;if(null===B){for(var C=A;null===y[C].stop;)C++;for(var D=C-A+1,E=y[C].stop,F=(E-z)/D;A<C;A++)z=y[A].stop=z+F}else z=B}return{direction:g,colorStops:y}}),p=function(a,b){var c=b.width,d=b.height,e=.5*c,f=.5*d,g=Math.abs(c*Math.sin(a))+Math.abs(d*Math.cos(a)),h=g/2,i=e+Math.sin(a)*h,j=f-Math.cos(a)*h,k=c-i,l=d-j;return{x0:i,x1:k,y0:j,y1:l}},q=function(a){return Math.acos(a.width/2/(Math.sqrt(Math.pow(a.width,2)+Math.pow(a.height,2))/2))},r=function(a,b){switch(a){case"bottom":case"to top":return p(0,b);case"left":case"to right":return p(Math.PI/2,b);case"right":case"to left":return p(3*Math.PI/2,b);case"top right":case"right top":case"to bottom left":case"to left bottom":return p(Math.PI+q(b),b);case"top left":case"left top":case"to bottom right":case"to right bottom":return p(Math.PI-q(b),b);case"bottom left":case"left bottom":case"to top right":case"to right top":return p(q(b),b);case"bottom right":case"right bottom":case"to top left":case"to left top":return p(2*Math.PI-q(b),b);case"top":case"to bottom":default:return p(Math.PI,b)}},s=function(a,b){var c=a.split(" ").map(parseFloat),d=e(c,2),f=d[0],g=d[1],h=f/100*b.width/(g/100*b.height);return p(Math.atan(isNaN(h)?1:h)+Math.PI/2,b)}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;b.parseAngle=function(a){var b=a.match(d);if(b){var c=parseFloat(b[1]);switch(b[2].toLowerCase()){case"deg":return Math.PI*c/180;case"grad":return Math.PI/200*c;case"rad":return c;case"turn":return 2*Math.PI*c}}return null}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.cloneWindow=b.DocumentCloner=void 0;var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(1),i=c(20),j=c(46),k=d(j),l=c(4),m=c(5),n=c(11),o=d(n),p="data-html2canvas-ignore",q=b.DocumentCloner=function(){function a(b,c,d,f,g){e(this,a),this.referenceElement=b,this.scrolledElements=[],this.copyStyles=f,this.inlineImages=f,this.logger=d,this.options=c,this.renderer=g,this.resourceLoader=new k["default"](c,d,window),this.documentElement=this.cloneNode(b.ownerDocument.documentElement)}return g(a,[{key:"inlineAllImages",value:function(a){var b=this;if(this.inlineImages&&a){var c=a.style;Promise.all((0,m.parseBackgroundImage)(c.backgroundImage).map(function(a){return"url"===a.method?b.resourceLoader.inlineImage(a.args[0]).then(function(a){return a&&"string"==typeof a.src?'url("'+a.src+'")':"none"})["catch"](function(a){b.logger.log("Unable to load image",a)}):Promise.resolve(""+a.prefix+a.method+"("+a.args.join(",")+")")})).then(function(a){a.length>1&&(c.backgroundColor=""),c.backgroundImage=a.join(",")}),a instanceof HTMLImageElement&&this.resourceLoader.inlineImage(a.src).then(function(b){if(b&&a instanceof HTMLImageElement&&a.parentNode){var c=a.parentNode,d=(0,l.copyCSSStyles)(a.style,b.cloneNode(!1));c.replaceChild(d,a)}})["catch"](function(a){b.logger.log("Unable to load image",a)})}}},{key:"inlineFonts",value:function(a){var b=this;return Promise.all(Array.from(a.styleSheets).map(function(c){return c.href?fetch(c.href).then(function(a){return a.text()}).then(function(a){return s(a,c.href)})["catch"](function(a){return b.logger.log("Unable to load stylesheet",a),[]}):r(c,a)})).then(function(a){return a.reduce(function(a,b){return a.concat(b)},[])}).then(function(a){return Promise.all(a.map(function(a){return fetch(a.formats[0].src).then(function(a){return a.blob()}).then(function(a){return new Promise(function(b,c){var d=new FileReader;d.onerror=c,d.onload=function(){var a=d.result;b(a)},d.readAsDataURL(a)})}).then(function(b){return a.fontFace.setProperty("src",'url("'+b+'")'),"@font-face {"+a.fontFace.cssText+" "})}))}).then(function(c){var d=a.createElement("style");d.textContent=c.join("\n"),b.documentElement.appendChild(d)})}},{key:"createElementClone",value:function(a){var b=this;if(this.copyStyles&&a instanceof HTMLCanvasElement){var c=a.ownerDocument.createElement("img");try{return c.src=a.toDataURL(),c}catch(d){this.logger.log("Unable to clone canvas contents, canvas is tainted")}}if(a instanceof HTMLIFrameElement){var e=a.cloneNode(!1),f=G();e.setAttribute("data-html2canvas-internal-iframe-key",f);var g=(0,h.parseBounds)(a,0,0),i=g.width,j=g.height;return this.resourceLoader.cache[f]=I(a,this.options).then(function(a){return b.renderer(a,{async:b.options.async,allowTaint:b.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:b.options.imageTimeout,proxy:b.options.proxy,removeContainer:b.options.removeContainer,scale:b.options.scale,foreignObjectRendering:b.options.foreignObjectRendering,target:new o["default"],width:i,height:j,x:0,y:0,windowWidth:a.ownerDocument.defaultView.innerWidth,windowHeight:a.ownerDocument.defaultView.innerHeight,scrollX:a.ownerDocument.defaultView.pageXOffset,scrollY:a.ownerDocument.defaultView.pageYOffset},b.logger.child(f))}).then(function(b){return new Promise(function(c,d){var f=document.createElement("img");f.onload=function(){return c(b)},f.onerror=d,f.src=b.toDataURL(),e.parentNode&&e.parentNode.replaceChild((0,l.copyCSSStyles)(a.ownerDocument.defaultView.getComputedStyle(a),f),e)})}),e}return a.cloneNode(!1)}},{key:"cloneNode",value:function(a){var b=a.nodeType===Node.TEXT_NODE?document.createTextNode(a.nodeValue):this.createElementClone(a),c=a.ownerDocument.defaultView;this.referenceElement===a&&b instanceof c.HTMLElement&&(this.clonedReferenceElement=b),b instanceof c.HTMLBodyElement&&D(b);for(var d=a.firstChild;d;d=d.nextSibling)(d.nodeType!==Node.ELEMENT_NODE||"SCRIPT"!==d.nodeName&&!d.hasAttribute(p))&&(this.copyStyles&&"STYLE"===d.nodeName||b.appendChild(this.cloneNode(d)));if(a instanceof c.HTMLElement&&b instanceof c.HTMLElement)switch(this.inlineAllImages(v(a,b,y)),this.inlineAllImages(v(a,b,z)),!this.copyStyles||a instanceof HTMLIFrameElement||(0,l.copyCSSStyles)(a.ownerDocument.defaultView.getComputedStyle(a),b),this.inlineAllImages(b),0===a.scrollTop&&0===a.scrollLeft||this.scrolledElements.push([b,a.scrollLeft,a.scrollTop]),a.nodeName){case"CANVAS":this.copyStyles||u(a,b);break;case"TEXTAREA":case"SELECT":b.value=a.value}return b}}]),a}(),r=function(a,b){return(a.cssRules?Array.from(a.cssRules):[]).filter(function(a){return a.type===CSSRule.FONT_FACE_RULE}).map(function(a){for(var c=(0,m.parseBackgroundImage)(a.style.getPropertyValue("src")),d=[],e=0;e<c.length;e++)if("url"===c[e].method&&c[e+1]&&"format"===c[e+1].method){var f=b.createElement("a");f.href=c[e].args[0],b.body&&b.body.appendChild(f);var g={src:f.href,format:c[e+1].args[0]};d.push(g)}return{formats:d.filter(function(a){return/^woff/i.test(a.format)}),fontFace:a.style}}).filter(function(a){return a.formats.length})},s=function(a,b){var c=document.implementation.createHTMLDocument(""),d=document.createElement("base");d.href=b;var e=document.createElement("style");return e.textContent=a,c.head&&c.head.appendChild(d),c.body&&c.body.appendChild(e),e.sheet?r(e.sheet,c):[]},t=function(a,b,c){!a.defaultView||b===a.defaultView.pageXOffset&&c===a.defaultView.pageYOffset||a.defaultView.scrollTo(b,c)},u=function(a,b){try{b&&(b.width=a.width,b.height=a.height,b.getContext("2d").putImageData(a.getContext("2d").getImageData(0,0,a.width,a.height),0,0))}catch(c){}},v=function(a,b,c){var d=a.ownerDocument.defaultView.getComputedStyle(a,c);if(d&&d.content&&"none"!==d.content&&"-moz-alt-content"!==d.content&&"none"!==d.display){var e=w(d.content),f=e.match(x),g=b.ownerDocument.createElement(f?"img":"html2canvaspseudoelement");return f?g.src=w(f[1]):g.textContent=e,(0,l.copyCSSStyles)(d,g),g.className=A+" "+B,b.className+=c===y?" "+A:" "+B,c===y?b.insertBefore(g,b.firstChild):b.appendChild(g),g}},w=function(a){var b=a.substr(0,1);return b===a.substr(a.length-1)&&b.match(/['"]/)?a.substr(1,a.length-2):a},x=/^url\((.+)\)$/i,y=":before",z=":after",A="___html2canvas___pseudoelement_before",B="___html2canvas___pseudoelement_after",C='{\n    content: "" !important;\n    display: none !important;\n}',D=function(a){E(a,"."+A+y+C+"\n         ."+B+z+C)},E=function(a,b){var c=a.ownerDocument.createElement("style");c.innerHTML=b,a.appendChild(c)},F=function(a){var b=f(a,3),c=b[0],d=b[1],e=b[2];c.scrollLeft=d,c.scrollTop=e},G=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},H=/^data:text\/(.+);(base64)?,(.*)$/i,I=function(a,b){try{return Promise.resolve(a.contentWindow.document.documentElement)}catch(c){return b.proxy?(0,i.Proxy)(a.src,b).then(function(a){var b=a.match(H);return b?"base64"===b[2]?window.atob(decodeURIComponent(b[3])):decodeURIComponent(b[3]):Promise.reject()}).then(function(b){return J(a.ownerDocument,(0,h.parseBounds)(a,0,0)).then(function(a){var c=a.contentWindow,d=c.document;d.open(),d.write(b);var e=K(a).then(function(){return d.documentElement});return d.close(),e})}):Promise.reject()}},J=function(a,b){var c=a.createElement("iframe");return c.className="html2canvas-container",c.style.visibility="hidden",c.style.position="fixed",c.style.left="-10000px",c.style.top="0px",c.style.border="0",c.width=b.width.toString(),c.height=b.height.toString(),c.scrolling="no",c.setAttribute(p,"true"),a.body?(a.body.appendChild(c),Promise.resolve(c)):Promise.reject("Body element not found in Document that is getting rendered")},K=function(a){var b=a.contentWindow,c=b.document;return new Promise(function(d,e){b.onload=a.onload=c.onreadystatechange=function(){var b=setInterval(function(){c.body.childNodes.length>0&&"complete"===c.readyState&&(clearInterval(b),d(a))},50)}})};b.cloneWindow=function(a,b,c,d,e,f){var g=new q(c,d,e,(!1),f),h=a.defaultView.pageXOffset,i=a.defaultView.pageYOffset;return J(a,b).then(function(d){var e=d.contentWindow,f=e.document,j=K(d).then(function(){return g.scrolledElements.forEach(F),e.scrollTo(b.left,b.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||e.scrollY===b.top&&e.scrollX===b.left||(f.documentElement.style.top=-b.top+"px",f.documentElement.style.left=-b.left+"px",f.documentElement.style.position="absolute"),g.clonedReferenceElement instanceof e.HTMLElement||g.clonedReferenceElement instanceof a.defaultView.HTMLElement||g.clonedReferenceElement instanceof HTMLElement?Promise.resolve([d,g.clonedReferenceElement,g.resourceLoader]):Promise.reject("Error finding the "+c.nodeName+" in the cloned document")});return f.open(),f.write("<!DOCTYPE html><html></html>"),t(c.ownerDocument,h,i),f.replaceChild(f.adoptNode(g.documentElement),f.documentElement),f.close(),j})}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.ResourceStore=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(7),h=d(g),i=c(20),j=function(){function a(b,c,d){e(this,a),this.options=b,this._window=d,this.origin=this.getOrigin(d.location.href),this.cache={},this.logger=c,this._index=0}return f(a,[{key:"loadImage",value:function(a){var b=this;if(this.hasResourceInCache(a))return a;if(q(a)){if(this.options.allowTaint===!0||h["default"].SUPPORT_SVG_DRAWING)return this.addImage(a,a,!1)}else{if(this.options.allowTaint===!0||p(a)||this.isSameOrigin(a))return this.addImage(a,a,!1);if(!this.isSameOrigin(a)){if("string"==typeof this.options.proxy)return this.cache[a]=(0,i.Proxy)(a,this.options).then(function(a){return r(a,b.options.imageTimeout||0)}),a;if(this.options.useCORS===!0&&h["default"].SUPPORT_CORS_IMAGES)return this.addImage(a,a,!0)}}}},{key:"inlineImage",value:function(a){var b=this;return o(a)?r(a,this.options.imageTimeout||0):this.hasResourceInCache(a)?this.cache[a]:this.isSameOrigin(a)||"string"!=typeof this.options.proxy?this.xhrImage(a):this.cache[a]=(0,i.Proxy)(a,this.options).then(function(a){return r(a,b.options.imageTimeout||0)})}},{key:"xhrImage",value:function(a){var b=this;return this.cache[a]=new Promise(function(c,d){var e=new XMLHttpRequest;if(e.onreadystatechange=function(){if(4===e.readyState)if(200!==e.status)d("Failed to fetch image "+a.substring(0,256)+" with status code "+e.status);else{var b=new FileReader;b.addEventListener("load",function(){var a=b.result;c(a)},!1),b.addEventListener("error",function(a){return d(a)},!1),b.readAsDataURL(e.response)}},e.responseType="blob",b.options.imageTimeout){var f=b.options.imageTimeout;e.timeout=f,e.ontimeout=function(){return d("Timed out ("+f+"ms) fetching "+a.substring(0,256))}}e.open("GET",a,!0),e.send()}).then(function(a){return r(a,b.options.imageTimeout||0)}),this.cache[a]}},{key:"loadCanvas",value:function(a){var b=String(this._index++);return this.cache[b]=Promise.resolve(a),b}},{key:"hasResourceInCache",value:function(a){return"undefined"!=typeof this.cache[a]}},{key:"addImage",value:function(a,b,c){var d=this;this.logger.log("Added image "+a.substring(0,256));var e=function(a){return new Promise(function(e,f){var g=new Image;if(g.onload=function(){return e(g)},a&&!c||(g.crossOrigin="anonymous"),g.onerror=f,g.src=b,g.complete===!0&&setTimeout(function(){e(g)},500),d.options.imageTimeout){var h=d.options.imageTimeout;setTimeout(function(){return f("Timed out ("+h+"ms) fetching "+b.substring(0,256))},h)}})};return this.cache[a]=p(b)&&!q(b)?h["default"].SUPPORT_BASE64_DRAWING(b).then(e):e(!0),a}},{key:"isSameOrigin",value:function(a){return this.getOrigin(a)===this.origin}},{key:"getOrigin",value:function(a){var b=this._link||(this._link=this._window.document.createElement("a"));return b.href=a,b.href=b.href,b.protocol+b.hostname+b.port}},{key:"ready",value:function(){var a=this,b=Object.keys(this.cache),c=b.map(function(b){return a.cache[b]["catch"](function(b){return a.logger.log("Unable to load image",b),null})});return Promise.all(c).then(function(c){return a.logger.log("Finished loading "+c.length+" images",c),new k(b,c)})}}]),a}();b["default"]=j;var k=b.ResourceStore=function(){function a(b,c){e(this,a),this._keys=b,this._resources=c}return f(a,[{key:"get",value:function(a){var b=this._keys.indexOf(a);return b===-1?null:this._resources[b]}}]),a}(),l=/^data:image\/svg\+xml/i,m=/^data:image\/.*;base64,/i,n=/^data:image\/.*/i,o=function(a){return n.test(a)},p=function(a){return m.test(a)},q=function(a){return"svg"===a.substr(-3).toLowerCase()||l.test(a)},r=function(a,b){return new Promise(function(c,d){var e=new Image;e.onload=function(){return c(e)},e.onerror=d,e.src=a,e.complete===!0&&setTimeout(function(){c(e)},500),b&&setTimeout(function(){return d("Timed out ("+b+"ms) loading image")},b)})}}])});